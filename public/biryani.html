<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Biryani</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="1.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <style>
     .top-nav {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      display: flex;
      justify-content: flex-end;
      padding: 20px;
      z-index: 100;
    }

    .nav-icons {
      display: flex;
      gap: 15px;
    }
    
    .nav-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      position: relative;
    }
    
    .nav-icon svg {
      width: 20px;
      height: 20px;
      color: #555;
    }

     .dropdown {
      display: none;
      position: absolute;
      top: 45px;
      right: 0;
      background: white;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      border-radius: 5px;
      overflow: hidden;
    }

    .dropdown a {
      display: inline-block;
      padding: 10px;
      text-decoration: none;
      color: black;
      white-space: nowrap;
    }
    
    .dropdown a:hover {
      background-color: #ddd;
    }

    .nav-icon:hover .dropdown{
      display: block;
    }

      .dialog {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: white;
        padding: 20px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        z-index: 1000;
        width: 300px;
        max-width: 100%;
      }

      .dialog label {
        display: block;
        margin-bottom: 10px;
      }

      .dialog input,
      .dialog textarea {
        width: 100%;
        padding: 8px;
        margin-bottom: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
      }

      .dialog button {
        padding: 10px 20px;
        background-color: #3b5998;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }

      .dialog button:hover {
        background-color: #3b5998;
      }

      .dialog-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 999;
      }

      .tile {
        margin: 20px;
        width: 250px;
        display: inline-block;
        vertical-align: top;
        text-align: center;
      }

      .tile img {
        width: 100%;
        height: auto;
      }

      .tile h4 {
        font-size: 18px;
        margin-top: 10px;
      }

      .tile p {
        font-size: 14px;
      }

      dialog {
        width: 300px;
        padding: 20px;
        border: none;
        box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.1);
      }
       /* Recipe item actions styling */
       .recipe-name {
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
      }

      .recipe-actions {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-bottom: 10px;
      }

      .recipe-actions i {
        cursor: pointer;
        font-size: 18px;
        color: #090909;
        transition: color 0.3s;
      }

      .recipe-actions i.fa-heart:hover,
      .recipe-actions i.fa-heart.active {
        color: #ff4757;
      }

      .recipe-actions i.fa-share:hover {
        color: #2ed573;
      }

      .recipe-actions i.fa-shopping-cart:hover {
        color: #1e90ff;
      }

      /* Social sharing popup */
      .social-icons {
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%);
        margin-top: 10px;
        display: flex;
        gap: 10px;
        opacity: 0;
        pointer-events: none;
        transition: all 0.3s ease;
      }

      .share-container {
        position: relative;
        color: #130d52;
        display: inline-block;
      }

      .share-container.active .social-icons {
        opacity: 1;
        pointer-events: auto;
      }

      .social-icons a {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        text-decoration: none;
        transition: background-color 0.3s;
        font-size: 18px;
      }

      .social-icons a:hover {
        filter: brightness(1.2);
      }

      .whatsapp {
        background-color: #25d366;
      }
      .facebook {
        background-color: #3b5998;
      }
      .instagram {
        background: radial-gradient(
          circle at 30% 107%,
          #fdf497 0%,
          #fd5949 45%,
          #d6249f 60%,
          #285aeb 90%
        );
      }

      /* Add this style for the wishlist message */
      .wishlist-message {
        display: none;
        position: fixed;
        top: 20px;
        right: 20px;
        background: rgba(213, 56, 127, 0.9);
        color: white;
        padding: 10px 20px;
        border-radius: 5px;
        z-index: 1001;
        animation: fadeIn 0.3s, fadeOut 0.3s 1.7s;
      }

      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      @keyframes fadeOut {
        from { opacity: 1; }
        to { opacity: 0; }
      }
    </style>
  </head>
  <body>
<div class="top-nav">
      <div class="nav-icon" title="Home">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
        </svg>
        <div class="dropdown">
          <a href="home.html">Home</a>
        </div>
      </div>
        
       <div class="nav-icon" title="Website">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
        </svg>
        <div class="dropdown">
          <a href="about.html">About</a>
          <a href="contact.html">Contact</a>
        </div>
      </div>

      <div class="nav-icon" title="Profile">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
        </svg>
        <div class="dropdown">
          <a href="account.html">Account</a>
        </div>
      </div>
      
      <div class="nav-icon" title="More">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
        <div id="more-dropdown" class="dropdown">
          <a href="ATC.html">Add to cart</a>
          <a href="diet.html">Diet</a>
          <a href="grocery.html">Grocery</a>
        </div>
      </div>
    </div>
  </div>
  </div>

    <!-- Add the wishlist message div here -->
    <div id="wishlistMessage" class="wishlist-message"></div>

    <section id="Biryani" class="sec-padding">
      <div class="section-heading">BIRYANI'S</div>
      <header class="header-bar">
        <center>
          <div class="search-container">
            <input
              type="text"
              id="searchInput"
              placeholder="Search recipes..."
              class="search-bar"
            />
            <button onclick="openDialog()">Add New Recipe</button>
          </div>
        </center>
      </header>

      <div id="recipeList" class="sec-content-div flexible">
        <!-- Existing recipes go here -->
        <div class="tile">
          <img src="Images/Veg Biryani.jpg" />
          <h4 class="recipe-name"> Veg Biryani</h4>
          <div class="recipe-actions">
            <i
              class="fas fa-shopping-cart"
              onclick="openRecipeDialog('Veg Biryani', 250)"
            ></i>
            <i
              class="fas fa-heart"
              onclick="toggleWishlist(this, 'Veg Biryani')"
            ></i>
            <div class="share-container">
              <i
                class="fas fa-share"
                onclick="toggleShare(this, 'Veg Biryani')"
              ></i>
              <div class="social-icons">
                <a
                  href="https://wa.me/?text=Check%20this%20awesome%20site!"
                  class="whatsapp"
                >
                  <i class="fab fa-whatsapp"></i>
                </a>
                <a
                  href="https://www.facebook.com/sharer/sharer.php?u=https://example.com"
                  class="facebook"
                >
                  <i class="fab fa-facebook-f"></i>
                </a>
                <a href="https://www.instagram.com/" class="instagram">
                  <i class="fab fa-instagram"></i>
                </a>
              </div>
            </div>
          </div>
          <p>
            <b>
              To make Veg Biryani, soak rice and boil with spices until 70%
              cooked, then drain. Sauté whole spices, onions, ginger-garlic, and
              tomatoes in oil. Add mixed vegetables, yogurt, mint, and coriander,
              and cook until tender. Layer the partially cooked rice over the
              veggies, cover, and cook on low heat for 10 minutes. Serve hot with
              raita.
            </b>
          </p>
        </div>

     <div class="tile">
          <img src="Images/mushroom Biryani.jpg" />
          <h4 class="recipe-name">Mushroom Biryani </h4>
          <div class="recipe-actions">
            <i
              class="fas fa-shopping-cart"
              onclick="openRecipeDialog('Mushroom Biryani', 150)"
            ></i>
            <i
              class="fas fa-heart"
              onclick="toggleWishlist(this, 'Mushroom Biryani')"
            ></i>
            <div class="share-container">
              <i
                class="fas fa-share"
                onclick="toggleShare(this, 'Mushroom Biryani')"
              ></i>
              <div class="social-icons">
                <a
                  href="https://wa.me/?text=Check%20this%20awesome%20site!"
                  class="whatsapp"
                >
                  <i class="fab fa-whatsapp"></i>
                </a>
                <a
                  href="https://www.facebook.com/sharer/sharer.php?u=https://example.com"
                  class="facebook"
                >
                  <i class="fab fa-facebook-f"></i>
                </a>
                <a href="https://www.instagram.com/" class="instagram">
                  <i class="fab fa-instagram"></i>
                </a>
              </div>
            </div>
          </div>
          <p><b>
            Mushroom Biryani is a flavorful rice dish made with marinated
            mushrooms layered with spiced basmati rice. The mushrooms are cooked
            with onions, chilies, and tomatoes, while the rice is parboiled with
            whole spices. These are layered with fried onions, mint, and
            coriander, then slow-cooked to blend flavors. It's served hot, often
            with raita.</b>
          </p>
        </div>

        <div class="tile">
          <img src="Images/paneer Biryani.jpg"/>
          <h4 class="recipe-name">
            Paneer Biryani </h4>
            <div class="recipe-actions">
              <i
                class="fas fa-shopping-cart"
                onclick="openRecipeDialog('Paneer Biryani', 150)"
              ></i>
              <i
                class="fas fa-heart"
                onclick="toggleWishlist(this, 'Paneer Biryani')"
              ></i>
              <div class="share-container">
                <i
                  class="fas fa-share"
                  onclick="toggleShare(this, 'Paneer Biryani')"
                ></i>
                <div class="social-icons">
                  <a
                    href="https://wa.me/?text=Check%20this%20awesome%20site!"
                    class="whatsapp"
                  >
                    <i class="fab fa-whatsapp"></i>
                  </a>
                  <a
                    href="https://www.facebook.com/sharer/sharer.php?u=https://example.com"
                    class="facebook"
                  >
                    <i class="fab fa-facebook-f"></i>
                  </a>
                  <a href="https://www.instagram.com/" class="instagram">
                    <i class="fab fa-instagram"></i>
                  </a>
                </div>
              </div>
            </div>
          <p><b>
            To make Paneer Biryani, sauté onions, ginger, garlic, and whole
            spices in oil. Add cubed paneer and cook until golden, then set
            aside. Layer partially cooked rice with the paneer, mint, and
            coriander. Add yogurt, saffron milk (optional), and water, then cook
            on low heat until the rice is fully done. Garnish with fried onions
            and serve with raita or salad.</b>
          </p>
        </div>

        <div class="tile">
          <img
            src="Images/Chicken Biryani.jpg"
          />
          <h4 class="recipe-name">
            Chicken Biryani</h4>
            <div class="recipe-actions">
              <i
                class="fas fa-shopping-cart"
                onclick="openRecipeDialog('Chicken Biryani', 150)"
              ></i>
              <i
                class="fas fa-heart"
                onclick="toggleWishlist(this, 'Chicken Biryani')"
              ></i>
              <div class="share-container">
                <i
                  class="fas fa-share"
                  onclick="toggleShare(this, 'Chicken Biryani')"
                ></i>
                <div class="social-icons">
                  <a
                    href="https://wa.me/?text=Check%20this%20awesome%20site!"
                    class="whatsapp"
                  >
                    <i class="fab fa-whatsapp"></i>
                  </a>
                  <a
                    href="https://www.facebook.com/sharer/sharer.php?u=https://example.com"
                    class="facebook"
                  >
                    <i class="fab fa-facebook-f"></i>
                  </a>
                  <a href="https://www.instagram.com/" class="instagram">
                    <i class="fab fa-instagram"></i>
                  </a>
                </div>
              </div>
            </div>
          <p><b>
            Chicken Biryani is a flavorful rice dish made by layering marinated
            chicken and partially cooked basmati rice with spices. The marinated
            chicken is cooked with onions and tomatoes, then layered with the
            rice, fried onions, mint, and saffron milk in a pot. This is
            slow-cooked on low heat to infuse the flavors. It's served hot,
            often with raita on the side.</b>
          </p>
        </div>

        <div class="tile">
          <img
            src="Images/Mutton Biryani.jpg"
          />
          <h4 class="recipe-name">
            Mutton Biryani</h4>
            <div class="recipe-actions">
              <i
                class="fas fa-shopping-cart"
                onclick="openRecipeDialog('Mutton Biryani', 150)"
              ></i>
              <i
                class="fas fa-heart"
                onclick="toggleWishlist(this, 'Mutton Biryani')"
              ></i>
              <div class="share-container">
                <i
                  class="fas fa-share"
                  onclick="toggleShare(this, 'Mutton Biryani')"
                ></i>
                <div class="social-icons">
                  <a
                    href="https://wa.me/?text=Check%20this%20awesome%20site!"
                    class="whatsapp"
                  >
                    <i class="fab fa-whatsapp"></i>
                  </a>
                  <a
                    href="https://www.facebook.com/sharer/sharer.php?u=https://example.com"
                    class="facebook"
                  >
                    <i class="fab fa-facebook-f"></i>
                  </a>
                  <a href="https://www.instagram.com/" class="instagram">
                    <i class="fab fa-instagram"></i>
                  </a>
                </div>
              </div>
            </div>
          <p><b>
            To make Mutton Biryani, sauté onions, ginger, garlic, and whole
            spices in oil. Add marinated mutton and cook until browned, then set
            aside. Layer partially cooked rice with the mutton, mint, and
            coriander. Add yogurt, saffron milk (optional), and water, then cook
            on low heat until the mutton is tender and the rice is fully cooked.
            Garnish with fried onions and serve with raita or salad.</b>
          </p>
        </div>

        <div class="tile">
          <img src="Images/egg biryani.jpg" />
          <h4 class="recipe-name">
            Egg Biryani</h4>
            <div class="recipe-actions">
              <i
                class="fas fa-shopping-cart"
                onclick="openRecipeDialog('Egg Biryani', 150)"
              ></i>
              <i
                class="fas fa-heart"
                onclick="toggleWishlist(this, 'Egg Biryani')"
              ></i>
              <div class="share-container">
                <i
                  class="fas fa-share"
                  onclick="toggleShare(this,'Egg Biryani')"
                ></i>
                <div class="social-icons">
                  <a
                    href="https://wa.me/?text=Check%20this%20awesome%20site!"
                    class="whatsapp"
                  >
                    <i class="fab fa-whatsapp"></i>
                  </a>
                  <a
                    href="https://www.facebook.com/sharer/sharer.php?u=https://example.com"
                    class="facebook"
                  >
                    <i class="fab fa-facebook-f"></i>
                  </a>
                  <a href="https://www.instagram.com/" class="instagram">
                    <i class="fab fa-instagram"></i>
                  </a>
                </div>
              </div>
            </div>
          <p><b>
            To make Egg Biryani, sauté onions, ginger, garlic, and whole spices
            in oil. Add boiled eggs and lightly fry them, then set aside. Layer
            partially cooked rice with the eggs, mint, and coriander. Add
            yogurt, saffron milk (optional), and water, then cook on low heat
            until the rice is fully done. Garnish with fried onions and serve
            with raita or salad.</b>
          </p>
        </div>
      </div>
      </div>

      <div id="recipeDialog" class="dialog">
        <h2>Add New Recipe</h2>
        <label for="recipeImage">Image URL:</label>
        <input type="text" id="recipeImage" placeholder="Enter image URL" />

        <label for="recipeName">Recipe Name:</label>
        <input type="text" id="recipeName" placeholder="Enter recipe name" />

        <label for="recipeDescription">Description:</label>
        <textarea
          id="recipeDescription"
          placeholder="Enter recipe description"
        ></textarea>

        <button id="saveRecipeButton">Add Recipe</button>
      </div>

      <div id="overlay" class="dialog-overlay"></div>

      <!-- Modal for Cart Options -->
      <dialog id="cartDialog">
        <h3 id="recipeTitle">Choose Options for Veg Biryani</h3>
        <form method="dialog">
          <label><input type="radio" name="option" value="Extra Spicy" data-price="50"> Extra Spicy</label><br>
          <label><input type="radio" name="option" value="With Raita" data-price="40"> With Raita</label><br>
          <label><input type="radio" name="option" value="Without Onion" data-price="25"> Without Onion</label><br>
          <h4>Total Price: <span id="totalPrice">150</span></h4>
          <button type="button" onclick="addSelectedToCart()">Add to Cart</button>
          <button type="button" onclick="closeCartDialog()">Cancel</button>
        </form>
      </dialog>
    </section>

    <script>
      // Same JavaScript functionalities from biryani.html with modifications for social sharing
      let selectedRecipe = "";
      let basePrice = 0;
      let wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];
      let activeShareContainer = null;

      // Initialize wishlist icons on page load
      document.addEventListener("DOMContentLoaded", function () {
        updateWishlistIcons();
      });

      function updateWishlistIcons() {
        const heartIcons = document.querySelectorAll(".fa-heart");
        heartIcons.forEach((icon) => {
          const recipeName = icon
            .closest(".tile")
            .querySelector(".recipe-name")
            .textContent.trim();
          if (wishlist.includes(recipeName)) {
            icon.classList.add("active");
            icon.style.color = "#ff4757";
          }
        });
      }

      function toggleWishlist(icon, recipeName) {
        const index = wishlist.indexOf(recipeName);
        const message = document.getElementById("wishlistMessage");

        if (index === -1) {
          // Add to wishlist
          wishlist.push(recipeName);
          icon.classList.add("active");
          icon.style.color = "#ff4757";
          message.textContent = `${recipeName} added to wishlist`;
        } else {
          // Remove from wishlist
          wishlist.splice(index, 1);
          icon.classList.remove("active");
          icon.style.color = "#555";
          message.textContent = `${recipeName} removed from wishlist`;
        }

        localStorage.setItem("wishlist", JSON.stringify(wishlist));

        // Show wishlist message
        message.style.display = "block";
        setTimeout(() => {
          message.style.display = "none";
        }, 2000);
      }

      function toggleShare(icon, recipeName) {
        // First close any open share containers
        const allShareContainers =
          document.querySelectorAll(".share-container");
        allShareContainers.forEach((container) => {
          if (container !== icon.parentElement) {
            container.classList.remove("active");
          }
        });

        // Toggle the current share container
        const shareContainer = icon.parentElement;
        shareContainer.classList.toggle("active");

        // Track the active container
        activeShareContainer = shareContainer.classList.contains("active")
          ? shareContainer
          : null;
      }

      function shareVia(platform, recipeName) {
        // Close the social icons
        if (activeShareContainer) {
          activeShareContainer.classList.remove("active");
          activeShareContainer = null;
        }

        // Sample share message
        const shareMessage = `Check out this delicious ${recipeName} recipe!`;

        // In real implementation, this would integrate with platform-specific sharing APIs
        switch (platform) {
          case "whatsapp":
            alert(`Sharing "${shareMessage}" via WhatsApp`);
            // window.open(`https://wa.me/?text=${encodeURIComponent(shareMessage)}`);
            break;
          case "facebook":
            alert(`Sharing "${shareMessage}" via Facebook`);
            // window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}&quote=${encodeURIComponent(shareMessage)}`);
            break;
          case "instagram":
            alert(`Sharing "${shareMessage}" via Instagram`);
            break;
        }
      }

      function openRecipeDialog(recipeName, price) {
        selectedRecipe = recipeName;
        basePrice = price;
        document.getElementById(
          "recipeTitle"
        ).innerText = `Choose Options for ${recipeName}`;
        document.getElementById("totalPrice").innerText = price;
        document.getElementById("cartDialog").showModal();
      }

      function closeCartDialog() {
        document.getElementById("cartDialog").close();
      }

      function addSelectedToCart() {
  const selectedOption = document.querySelector(
    '#cartDialog input[name="option"]:checked'
  );
  
  if (selectedOption) {
    const optionPrice = parseInt(selectedOption.getAttribute("data-price"));
    const totalPrice = basePrice + optionPrice;
    
    // Create item with proper structure matching ATC.js expectations
    const item = {
      product: `${selectedRecipe} - ${selectedOption.value}`,
      price: totalPrice,
      quantity: 1  
    };
    
    // Get existing cart
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    
    // Check if item already exists in cart
    const existingItemIndex = cart.findIndex(
      (cartItem) => cartItem.product === item.product
    );
    
    if (existingItemIndex !== -1) {
      // Increment quantity if item already exists
      cart[existingItemIndex].quantity += 1;
    } else {
      // Add new item
      cart.push(item);
    }
    
    localStorage.setItem("cart", JSON.stringify(cart));
    alert(`${item.product} added to cart at ₹${totalPrice}`);
    
  } else {
    alert("Please select an option before adding to cart.");
  }
  closeCartDialog();
}
      function openDialog() {
        document.getElementById("recipeDialog").style.display = "block";
        document.getElementById("overlay").style.display = "block";
      }

      document.getElementById("overlay").onclick = function () {
        document.getElementById("recipeDialog").style.display = "none";
        document.getElementById("overlay").style.display = "none";
      };

      document.getElementById("saveRecipeButton").onclick = function () {
        const imageUrl = document.getElementById("recipeImage").value;
        const recipeName = document.getElementById("recipeName").value;
        const recipeDescription =
          document.getElementById("recipeDescription").value;

        if (imageUrl && recipeName && recipeDescription) {
          const newTile = document.createElement("div");
          newTile.classList.add("tile");
          newTile.innerHTML = `
            <img src="${imageUrl}" alt="${recipeName}" />
            <h4 class="recipe-name">${recipeName}</h4>
            <div class="recipe-actions">
              <i class="fas fa-shopping-cart" onclick="openRecipeDialog('${recipeName}', 150)"></i>
              <i class="fas fa-heart" onclick="toggleWishlist(this, '${recipeName}')"></i>
              <div class="share-container">
                <i class="fas fa-share" onclick="toggleShare(this, '${recipeName}')"></i>
                <div class="social-icons">
                  <a href="#" class="whatsapp" onclick="shareVia('whatsapp', '${recipeName}')">
                    <i class="fab fa-whatsapp"></i>
                  </a>
                  <a href="#" class="facebook" onclick="shareVia('facebook', '${recipeName}')">
                    <i class="fab fa-facebook-f"></i>
                  </a>
                  <a href="#" class="instagram" onclick="shareVia('instagram', '${recipeName}')">
                    <i class="fab fa-instagram"></i>
                  </a>
                </div>
              </div>
            </div>
            <p>${recipeDescription}</p>
          `;

          // Add to the recipe list section
          document.getElementById("recipeList").appendChild(newTile);

          document.getElementById("recipeDialog").style.display = "none";
          document.getElementById("overlay").style.display = "none";
          document.getElementById("recipeImage").value = "";
          document.getElementById("recipeName").value = "";
          document.getElementById("recipeDescription").value = "";
        } else {
          alert("Please fill in all fields.");
        }
      };

      document
        .getElementById("searchInput")
        .addEventListener("input", function () {
          const query = this.value.toLowerCase();
          const recipes = document.querySelectorAll(".tile");
          recipes.forEach(function (tile) {
            const recipeName = tile
              .querySelector("h4")
              .textContent.toLowerCase();
            const recipeDesc = tile
              .querySelector("p")
              .textContent.toLowerCase();
            tile.style.display =
              recipeName.includes(query) || recipeDesc.includes(query)
                ? "inline-block"
                : "none";
          });
        });

      // Close social popups when clicking outside
      document.addEventListener("click", function (event) {
        if (
          !event.target.closest(".fa-share") &&
          !event.target.closest(".social-popup")
        ) {
          document.querySelectorAll(".social-popup").forEach((popup) => {
            popup.style.display = "none";
          });
        }
      });

      // Dropdown hovering
      document.addEventListener("DOMContentLoaded", function () {
        document.querySelectorAll(".nav-icon").forEach((icon) => {
          const dropdown = icon.querySelector(".dropdown");

          icon.addEventListener("click", function (event) {
            event.stopPropagation(); // Prevent event from bubbling up
            closeAllDropdowns();
            dropdown.style.display =
              dropdown.style.display === "block" ? "none" : "block";
          });
        });

        document.addEventListener("click", function () {
          closeAllDropdowns();
        });

        function closeAllDropdowns() {
          document.querySelectorAll(".dropdown").forEach((dropdown) => {
            dropdown.style.display = "none";
          });
        }
      });
    </script>
  </body>
</html>